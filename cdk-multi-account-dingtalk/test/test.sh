## Useful test script

cdk deploy --parameters "WebHook=https://oapi.dingtalk.com/robot/send?access_token=7d33bacc76fbeb45fd7f9ade6f096d136a91d98230d941c4a84eac7e825c7a5b" --parameters "BotSecretKey=ZZHE"

aws sns publish --region ap-southeast-1 --topic-arn arn:aws:sns:ap-southeast-1:894855526703:DintTalkEventBotStack-DingTalkEventTopic14EC62A5-vl2gDRSjsibo --message '{"version":"0","id":"99999999-9999-9999-9990-999999999999","detail-type":"AWS Health Event","source":"aws.health","account":"123456789012","time":"2016-06-05T06:27:57Z","region":"ap-southeast-2","resources":[],"detail":{"arn":"arn:aws:health:us-west-2::event/KAFKA/AWS_KAFKA_SECURITY_PATCHING_EVENT/AWS_KAFKA_SECURITY_PATCHING_EVENT_99999999-9999-9999-9999-999999999999","service":"KAFKA","eventTypeCode":"AWS_KAFKA_SECURITY_PATCHING_EVENT","eventTypeCategory":"scheduledChange","region":"us-west-2","startTime":"2023-03-09T23:00:00+08:00","endTime":"2023-03-10T03:00:00+08:00","lastUpdatedTime":"2023-03-02T23:02:12.808000+08:00","statusCode":"closed","eventScopeCode":"ACCOUNT_SPECIFIC"}}'

### From Admin
aws events put-events --entries '[{"EventBusName":"HealthEventBus","Source":"custom.dingtalkevent.test","DetailType":"CUSTOM","Detail":"{\"arn\": \"arn:aws:health:us-west-2::event/KAFKA/AWS_KAFKA_SECURITY_PATCHING_EVENT/AWS_KAFKA_SECURITY_PATCHING_EVENT_99999999-9999-9999-9999-999999999999\",\"service\": \"KAFKA\",\"eventTypeCode\": \"AWS_KAFKA_SECURITY_PATCHING_EVENT\",\"eventTypeCategory\": \"scheduledChange\",\"region\": \"us-west-2\",\"startTime\": \"2023-03-09T23:00:00+08:00\",\"endTime\": \"2023-03-10T03:00:00+08:00\",\"lastUpdatedTime\": \"2023-03-02T23:02:12.808000+08:00\",\"statusCode\": \"closed\",\"eventScopeCode\": \"ACCOUNT_SPECIFIC\"}"}]' --region ap-southeast-1

### From Sandbox-1
aws events put-events --entries '[{"EventBusName":"default","Source":"custom.dingtalkevent.test","DetailType":"CUSTOM","Detail":"{\"arn\": \"arn:aws:health:us-west-2::event/KAFKA/AWS_KAFKA_SECURITY_PATCHING_EVENT/AWS_KAFKA_SECURITY_PATCHING_EVENT_99999999-9999-9999-9999-999999999999\",\"service\": \"KAFKA\",\"eventTypeCode\": \"AWS_KAFKA_SECURITY_PATCHING_EVENT\",\"eventTypeCategory\": \"scheduledChange\",\"region\": \"us-west-2\",\"startTime\": \"2023-03-09T23:00:00+08:00\",\"endTime\": \"2023-03-10T03:00:00+08:00\",\"lastUpdatedTime\": \"2023-03-02T23:02:12.808000+08:00\",\"statusCode\": \"closed\",\"eventScopeCode\": \"ACCOUNT_SPECIFIC\"}"}]' --region ap-southeast-1